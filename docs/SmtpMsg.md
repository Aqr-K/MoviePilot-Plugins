# SMTP邮件消息通知

### 更新记录
- 3.0 更新内容：
  - 增加：
    - 支持使用Github加速站获取图片，同时兼容Porxy代理与Github镜像站加速两种模式，此功能需要系统版本v1.9.4+才能完美适配；
    - 支持日志整理功能，避免日志膨胀问题。
  - 优化：
    - 部分配置项增加类型限制。
- 2.9 更新内容：
  - 修复：
    - v2.8版本更新后，未设置超时时间，无法调用默认值，导致插件异常无法正常启动。
- 2.8 更新内容：
  - 修复：
    - 部分平台环境下，本地路径被识别成网络url。
  - 增加：
    - ```图片获取超时时间```，默认10秒；
    - ```超时时间```增加参数校验，错误时，使用默认设置10秒。
- 2.7 更新内容：
  - 修复：
    - 发送测试邮件时，部分服务器平台无法正确发送测试图片。
  - 增加：
    - ```超时时间```增加参数校验，防止错误。
  - 优化：
    - 回退部分错误状态汇报代码。
- 2.6.1 更新内容：
  - 修复：
    - ```超时时间```变量无法获取，导致无法连接。
- 2.6 更新内容：
  - 修复：
    - 代理获取图片开关状态无法保存。
  - 增加：
    - 支持自定义设置服务器连接的超时时间，默认10秒；
    - 退出服务器连接的状态的日志汇报。
  - 优化：
    - 提高默认的连接超时时间，从5秒提升至10秒。
- 2.5.1 更新内容：
  - 修复：
    - 插件内版本号未更新，导致插件市场无法正常更新插件。
- 2.5 更新内容：
  - 修复：
    - 发送成功后，没有正常退出服务器连接；
    - 极少数情况下图片变量误判问题。
  - 增加：
    - ```代理获取图片```开关，可使用代理模式获取图片。（需要提前设置好代理模式）
  - 优化：
    - 配置增加功能描述，根据描述可快速上手插件使用方法；
    - 测试模式不再依赖```启用插件```开关，可直接启动测试模式。
- 2.4 更新内容：
  - 修复：
    - 测试模式，本地图片地址异常判断为url地址。
  - 优化：
    - 日志打印细化化。
- 2.3 更新内容：
  - 修复：
    - 高频发送时服务器关闭连接异常；
    - 无法嵌入url类图片的问题；
    - package文件版本号补全更新。
  - 增加：
    - 主服务器增加开关功能；
    - 增加任务锁，处理高频发送邮件产生的异常问题。
  - 优化：适配二进制、base64、url地址、本地文件类型图片；
    - 减少常规模式下过多的日志打印。 
- 2.2.2 更新内容：
  - 修复：
    - 原版本号未更新，现已修复。
- 2.2.1 更新内容：
  - 修复：
    - ```加密模式```错误显示，无法下拉选择区。
- 2.2 更新内容：
  - 修复：
    - 一些bug。
  - 增加：
    - ```记录更多日志```开关。
  - 优化：
    - 日志拆分成模块化，适配```记录更多日志```开关；
    - 消息类型```{msg_type}```支持在获取后，自动替换成对应中文名字；
    - 图片导入失败时，跳过图片导入，避免中断丢失消息；
    - 更新默认模板，默认增加用户ID```{userid}```与消息类型```{msg_type}```的显示。
- 2.1.1 更新内容：
  - 修复：
    - 错误文案。
- 2.1 更新内容：
  - 修复：
    - ```加密方式```选择```不加密```时，参数检查判断错误，无法启动。
- 2.0 更新内容：
  - 增加：
    - 自定义模板文件与数据库保存文件不一致时，自动同步功能。（注意！！！文件内容高于数据库内容，请更新前复制原配置，防止文件丢失！）
  - 优化：
    - 重写编排UI页面。
  - 修复：
    - 版本更新、重新拉取镜像等情况下```custom.html```配置丢失问题，现在修改至```config```目录中保存。
- 1.9.1 更新内容：
  - 修复：
    - 错误文案。
  - 增加：
    - 消息正文增加发送标题。
- 1.9 更新内容：
  - 优化：
    - 重新编排插件配置页面。
- 1.8 更新内容：
  - 修复：
    - 使用测试邮件的错误汇报。
- 1.7 更新内容：
  - 修复：
    - 插件市场异常显示问题。
- 1.6 更新内容：
  - 修复：
    - 测试邮件发送时，无法区分主服务器与备用服务器。
- 1.5 更新内容：
  - 修复：
    - 测试邮件无法获取图片。
- 1.4 更新内容：
  - 修复：
    - 测试邮件bug。
  - 增加：
    - 测试邮件系统汇报。
- 1.3 更新内容：
  - 增加：
      - 支持```自定义模板```。
  - 优化
    - 重构插件逻辑。 
  - 修复：
    - 图片模式下的文案换行问题。
- 1.2 更新内容：
  - 增加：
    - 插件移植公共定时服务。
- 1.1 更新内容：
  - 增加：
    - ```发送图片``` 开关。
- 1.0 更新内容：
  - 增加：
    - 使用邮件服务器发送消息通知。
